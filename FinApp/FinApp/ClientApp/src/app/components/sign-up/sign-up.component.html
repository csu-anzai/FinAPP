<div class="form">
  <form method="post" (ngSubmit)="onSignUp()" [formGroup]="signUpForm">
    <h2>Registration</h2>
    <div class="p">
      <label class="floatLabel" for="firstname">Name:</label>
      <input type="text"
             formControlName="Name"
             #name>
      <div class="validation-message">
        <ng-container *ngIf="signUpForm.controls['Name'].touched">
          <small class="text-danger" *ngIf="signUpForm.controls['Name'].hasError('required')">Please enter your name</small>
          <small class="text-danger" *ngIf="signUpForm.controls['Name'].hasError('pattern')">Name should contain only letters and '-'</small>
        </ng-container>
      </div>
    </div>
    <div class="p">
      <label class="floatLabel" for="lastname">Surname:</label>
      <input type="text"
             formControlName="Surname"
             #surname>
      <div class="validation-message">
        <ng-container *ngIf="signUpForm.controls['Surname'].touched">
          <small class="text-danger" *ngIf="signUpForm.controls['Surname'].hasError('required')">Please enter your surname</small>
          <small class="text-danger" *ngIf="signUpForm.controls['Surname'].hasError('pattern')">Surname should contain only letters and '-'</small>
        </ng-container>
      </div>
    </div>
    <div class="p">

      <div class="input-group">
        <label class="floatLabel" for="lastname">BirthDate:</label>
        <input type="text"
               class="form-control"
               formControlName="BirthDate"
               #brthdate placeholder="yyyy-mm-dd" 
               name="dp" ngbDatepicker #d="ngbDatepicker"
               [minDate]="{year: 1900, month: 1, day: 1}"
               [maxDate]="{year: 2012, month: 12, day: 30}"
                [autoClose]="true">
        <div class="input-group-append">
          <button class="btn btn-outline-secondary" (click)="d.toggle()" type="button"><i class="	fa fa-calendar"></i></button>
        </div>
      </div>
      <div class="validation-message">
        <ng-container *ngIf="signUpForm.controls['BirthDate'].touched">
          <small class="text-danger" *ngIf="signUpForm.controls['BirthDate'].hasError('required')">Please choose your birthdate</small>
          <ng-container  *ngIf="signUpForm.controls['BirthDate']?.hasError('ngbDate') && !signUpForm.controls['BirthDate'].hasError('required')">
            <small class="text-danger" *ngIf="signUpForm.controls['BirthDate']?.getError('ngbDate')['requiredAfter'] != undefined">Birthdate should be earlier than 2013 year</small>
            <small class="text-danger" *ngIf="signUpForm.controls['BirthDate']?.getError('ngbDate')['requiredBefore'] != undefined">Birthdate should be later than 1900 year</small>
            <small class="text-danger" *ngIf="signUpForm.controls['BirthDate']?.getError('ngbDate')['invalid'] != undefined">Date format should be yyyy-mm-dd</small>
          </ng-container>
        </ng-container>
      </div>
    </div>
    <div class="p">
      <label class="floatLabel" for="lastname">Email:</label>
      <input type="text"
             formControlName="Email"
             #email>
      <div class="validation-message">
        <ng-container *ngIf="signUpForm.controls['Email'].touched">
          <small class="text-danger" *ngIf="signUpForm.controls['Email'].hasError('required')">Please enter your email</small>
          <small class="text-danger" *ngIf="signUpForm.controls['Email'].hasError('pattern')">E-mail example finApp@gmail.com</small>
        </ng-container>
      </div>
    </div>
    <div class="p">
      <label class="floatLabel" for="lastname">Password:</label>
      <input type="password"
             formControlName="Password"
             #password>
      <div class="validation-message">
        <ng-container *ngIf="signUpForm.controls['Password'].touched">
          <small class="text-danger" *ngIf="signUpForm.controls['Password'].hasError('required')">Please create a password</small>
          <small class="text-danger" *ngIf="signUpForm.controls['Password'].hasError('minlength')">Password should contain at least 6 symbols</small>
          <small class="text-danger" *ngIf="signUpForm.controls['Password'].hasError('maxlength')">Password should contain a maximum of 16 symbols</small>
          <small class="text-danger" *ngIf="signUpForm.controls['Password'].hasError('pattern')">Password  </small>
        </ng-container>
      </div>
    </div>
    <div class="p">
      <label class="floatLabel" for="lastname">Repeat password:</label>
      <input type="password"
             formControlName="RepeatedPassword"
             #repeated>
      <div class="validation-message">
        <ng-container *ngIf="signUpForm.controls['RepeatedPassword'].touched">
          <small class="text-danger" *ngIf="signUpForm.controls['RepeatedPassword'].hasError('required')">Please repeate a password</small>
          <small class="text-danger" *ngIf="signUpForm.controls['RepeatedPassword'].hasError('mismatch')">Passwords don`t match</small>
        </ng-container>
      </div>
    </div>
    <div class="row justify-content-center text-center">
      <button type="submit" [disabled]=" loading" value="Create My Account" id="submit" class="button col-3" style="vertical-align:middle"><span>Sign Up</span></button>
    </div>
  </form>
  <h5 class="text-center mt-20">Have already account? <a [routerLink]='["/login-page"]'>Log In</a> </h5>
</div>
